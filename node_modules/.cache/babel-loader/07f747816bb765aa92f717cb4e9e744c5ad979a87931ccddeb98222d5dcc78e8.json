{"ast":null,"code":"import _regeneratorRuntime from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import\"./Login.css\";import{connect}from'react-redux';import{NavLink,useNavigate}from\"react-router-dom\";import{login}from'./store/auth.action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var login=_ref.login;var history=useNavigate();var _useState=useState({email:\"\",password:\"\",errors:{},loading:false}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleUserInput=function handleUserInput(e){var name=e.target.name;var value=e.target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var validateForm=function validateForm(){var formIsValid=true;var errors={};if(!formData.email.length){formIsValid=false;errors[\"email\"]=\"Email can't be empty\";}if(formData.email.length){var emailValid=formData.email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);if(!emailValid){formIsValid=false;errors[\"email\"]=\"Email is invalid\";}}if(!formData.password.length){formIsValid=false;errors[\"password\"]=\"Password can't be empty\";}setFormData(_objectSpread(_objectSpread({},formData),{},{errors:errors}));return formIsValid;};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var email,password,doc;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!validateForm()){_context.next=10;break;}setFormData(_objectSpread(_objectSpread({},formData),{},{loading:true}));email=formData.email,password=formData.password;console.log(email,password);_context.next=7;return login(email.toLowerCase(),password);case 7:doc=_context.sent;setFormData(_objectSpread(_objectSpread({},formData),{},{loading:false}));if(doc&&doc.success){history('/');}case 10:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-main\",children:[/*#__PURE__*/_jsx(\"header\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:handleUserInput,placeholder:\"Email\"})}),formData.errors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-label\",children:[' ',formData.errors.email]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleUserInput,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-hide eye-icon\"})]}),formData.errors.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-label\",children:[' ',formData.errors.password]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"fp\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"button\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"button\",onClick:handleSubmit,value:\"Login\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:'<FontAwesomeIcon icon=\"fa-solid fa-user\" />',children:\" \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"Signup\"})]})})]})})});};var mapDispatchToProps={login:login};export default connect('',mapDispatchToProps)(Login);","map":{"version":3,"names":["React","Fragment","useState","connect","NavLink","useNavigate","login","jsx","_jsx","jsxs","_jsxs","Login","_ref","history","_useState","email","password","errors","loading","_useState2","_slicedToArray","formData","setFormData","handleUserInput","e","name","target","value","_objectSpread","_defineProperty","validateForm","formIsValid","length","emailValid","match","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","doc","wrap","_callee$","_context","prev","next","preventDefault","console","log","toLowerCase","sent","success","stop","_x","apply","arguments","children","className","type","onChange","placeholder","href","onClick","to","mapDispatchToProps"],"sources":["/home/nilesh/prity/restaurant-app/src/Pages/Login/Login.js"],"sourcesContent":["import React, { Fragment, useState } from \"react\";\nimport \"./Login.css\";\nimport { connect } from 'react-redux';\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { login } from './store/auth.action';\n\nconst Login = ({login}) => {\n  const history = useNavigate();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    errors: {},\n    loading: false,\n  });\n  const handleUserInput = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData, [name]: value });\n  };\n  const validateForm = () => {\n    let formIsValid = true;\n    let errors = {};\n    if (!formData.email.length) {\n      formIsValid = false;\n      errors[\"email\"] = `Email can't be empty`;\n    }\n    if (formData.email.length) {\n      let emailValid = formData.email.match(\n        /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i\n      );\n      if (!emailValid) {\n        formIsValid = false;\n        errors[\"email\"] = `Email is invalid`;\n      }\n    }\n    if (!formData.password.length) {\n      formIsValid = false;\n      errors[\"password\"] = `Password can't be empty`;\n    }\n\n    setFormData({ ...formData, errors: errors });\n    return formIsValid;\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (validateForm()) {\n      setFormData({ ...formData, loading: true });\n      const { email, password } = formData;\n      console.log(email, password)\n      const doc = await login(email.toLowerCase(), password);\n      setFormData({ ...formData, loading: false });\n      if(doc && doc.success){\n        history('/')\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <div className=\"login-container\">\n        <div className=\"login-main\">\n          <header>Login</header>\n          <form className=\"login-form\">\n            <div className=\"email\">\n              <input type=\"email\" name=\"email\" onChange={handleUserInput} placeholder=\"Email\" />\n            </div>\n            {formData.errors.email && (\n              <div className=\"error-label\">\n                {' '}\n                {formData.errors.email}\n              </div>\n            )}\n            <br />\n            <div className=\"password\">\n              <input type=\"password\" name=\"password\" onChange={handleUserInput} placeholder=\"Password\" />\n              <i className=\"bx bx-hide eye-icon\"></i>\n            </div>\n            {formData.errors.password && (\n              <div className=\"error-label\">\n                {' '}\n                {formData.errors.password}\n              </div>\n            )}\n            <br />\n            <div className=\"fp\">\n              <a href=\"#\">Forgot password?</a>\n            </div>\n            <br />\n            <div className=\"button\">\n              <input type=\"button\" onClick={handleSubmit} value=\"Login\"/> <a href={'<FontAwesomeIcon icon=\"fa-solid fa-user\" />'}> </a> \n            </div>\n          </form>\n          <div className=\"signup\">\n            <span>\n              Don't have an account? <NavLink to=\"/signup\">Signup</NavLink>\n            </span>\n          </div>\n          {/* <div className=\"login_line\"></div>\n          <div className=\"facebook\">\n            <a href=\"#\">\n              <i className=\"bx bxl-facebook facebook-icon\"></i>\n              <span>Login with Facebook</span>\n            </a>\n          </div>\n          <div className=\"google\">\n            <a href=\"#\">\n              <img src={GoogleImg} alt=\"google\" />\n              <span>Login with Google</span>\n            </a>\n          </div> */}\n        </div>\n      </div>\n      {/* <Footer /> */}\n    </Fragment>\n  );\n};\n\nconst mapDispatchToProps = {\n  login,\n};\nexport default connect(\n  '',\n  mapDispatchToProps\n)(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}