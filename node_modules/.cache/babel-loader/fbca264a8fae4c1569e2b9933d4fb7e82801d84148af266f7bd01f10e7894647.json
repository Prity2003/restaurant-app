{"ast":null,"code":"import _toConsumableArray from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/nilesh/prity/restaurant-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{authTypes}from'./auth.type';var initialState={// isAuthenticated:\n//     typeof window !== 'undefined' ? (localStorage.getItem('token') ? true : false) : false,\nuser:null,emailVerifiedUser:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case authTypes.USER_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,isEmailVerified:false,emailVerifiedUser:null,user:payload,userId:payload._id});case authTypes.LOGIN_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,isEmailVerified:false,emailVerifiedUser:null});case authTypes.LOGOUT:return _objectSpread(_objectSpread({},state),{},{user:null,isAuthenticated:false});case authTypes.EMAIL_VERIFIED:return _objectSpread(_objectSpread({},state),{},{isEmailVerified:true,emailVerifiedUser:payload});case authTypes.USER_NOT_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false});case authTypes.ADD_REMOVE_FAVID:var updatedUserFavourite=_objectSpread({},state.user);if(payload.type===0){if('favoriteAudios'in updatedUserFavourite&&Array.isArray(updatedUserFavourite.favoriteAudios)){updatedUserFavourite.favoriteAudios=updatedUserFavourite.favoriteAudios.filter(function(id){return id!==payload.id;});}else{updatedUserFavourite.favoriteAudios=[];}}else if(payload.type===1){if('favoriteAudios'in updatedUserFavourite&&Array.isArray(updatedUserFavourite.favoriteAudios)){updatedUserFavourite.favoriteAudios=[].concat(_toConsumableArray(updatedUserFavourite.favoriteAudios),[payload.id]);}else{updatedUserFavourite.favoriteAudios=[payload.id];}}return _objectSpread(_objectSpread({},state),{},{user:updatedUserFavourite});case authTypes.ADD_REMOVE_SFX_FAVID:var updatedUserFavSFx=_objectSpread({},state.user);if(payload.type===0){if('favoriteSfx'in updatedUserFavSFx&&Array.isArray(updatedUserFavSFx.favoriteSfx)){updatedUserFavSFx.favoriteSfx=updatedUserFavSFx.favoriteSfx.filter(function(id){return id!==payload.id;});}else{updatedUserFavSFx.favoriteSfx=[];}}else if(payload.type===1){if('favoriteSfx'in updatedUserFavSFx&&Array.isArray(updatedUserFavSFx.favoriteSfx)){updatedUserFavSFx.favoriteSfx=[].concat(_toConsumableArray(updatedUserFavSFx.favoriteSfx),[payload.id]);}else{updatedUserFavSFx.favoriteSfx=[payload.id];}}return _objectSpread(_objectSpread({},state),{},{user:updatedUserFavSFx});default:return state;}}","map":{"version":3,"names":["authTypes","initialState","user","emailVerifiedUser","state","arguments","length","undefined","action","type","payload","USER_LOADED","_objectSpread","isAuthenticated","isEmailVerified","userId","_id","LOGIN_SUCCESS","LOGOUT","EMAIL_VERIFIED","USER_NOT_LOADED","ADD_REMOVE_FAVID","updatedUserFavourite","Array","isArray","favoriteAudios","filter","id","concat","_toConsumableArray","ADD_REMOVE_SFX_FAVID","updatedUserFavSFx","favoriteSfx"],"sources":["/home/nilesh/prity/restaurant-app/src/Pages/Login/store/auth.reducer.js"],"sourcesContent":["import { authTypes } from './auth.type';\nconst initialState = {\n    // isAuthenticated:\n    //     typeof window !== 'undefined' ? (localStorage.getItem('token') ? true : false) : false,\n    user: null,\n    emailVerifiedUser: null,\n};\n\nexport default function(state = initialState, action) {\n    const { type, payload } = action;\n\n    switch (type) {\n        case authTypes.USER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                isEmailVerified: false,\n                emailVerifiedUser: null,\n                user: payload,\n                userId: payload._id,\n            };\n        case authTypes.LOGIN_SUCCESS:\n            return {\n                ...state,\n                isAuthenticated: true,\n                isEmailVerified: false,\n                emailVerifiedUser: null,\n            };\n        case authTypes.LOGOUT:\n            return {\n                ...state,\n                user: null,\n                isAuthenticated: false,\n            };\n        case authTypes.EMAIL_VERIFIED:\n            return {\n                ...state,\n                isEmailVerified: true,\n                emailVerifiedUser: payload,\n            };\n        case authTypes.USER_NOT_LOADED:\n            return {\n                ...state,\n                isAuthenticated: false,\n            };\n\n        case authTypes.ADD_REMOVE_FAVID:\n            let updatedUserFavourite = { ...state.user };\n            if (payload.type === 0) {\n                if (\n                    'favoriteAudios' in updatedUserFavourite &&\n                    Array.isArray(updatedUserFavourite.favoriteAudios)\n                ) {\n                    updatedUserFavourite.favoriteAudios = updatedUserFavourite.favoriteAudios.filter(\n                        (id) => id !== payload.id\n                    );\n                } else {\n                    updatedUserFavourite.favoriteAudios = [];\n                }\n            } else if (payload.type === 1) {\n                if (\n                    'favoriteAudios' in updatedUserFavourite &&\n                    Array.isArray(updatedUserFavourite.favoriteAudios)\n                ) {\n                    updatedUserFavourite.favoriteAudios = [\n                        ...updatedUserFavourite.favoriteAudios,\n                        payload.id,\n                    ];\n                } else {\n                    updatedUserFavourite.favoriteAudios = [payload.id];\n                }\n            }\n            return {\n                ...state,\n                user: updatedUserFavourite,\n            };\n\n        case authTypes.ADD_REMOVE_SFX_FAVID:\n            let updatedUserFavSFx = { ...state.user };\n            if (payload.type === 0) {\n                if (\n                    'favoriteSfx' in updatedUserFavSFx &&\n                    Array.isArray(updatedUserFavSFx.favoriteSfx)\n                ) {\n                    updatedUserFavSFx.favoriteSfx = updatedUserFavSFx.favoriteSfx.filter(\n                        (id) => id !== payload.id\n                    );\n                } else {\n                    updatedUserFavSFx.favoriteSfx = [];\n                }\n            } else if (payload.type === 1) {\n                if (\n                    'favoriteSfx' in updatedUserFavSFx &&\n                    Array.isArray(updatedUserFavSFx.favoriteSfx)\n                ) {\n                    updatedUserFavSFx.favoriteSfx = [...updatedUserFavSFx.favoriteSfx, payload.id];\n                } else {\n                    updatedUserFavSFx.favoriteSfx = [payload.id];\n                }\n            }\n\n            return {\n                ...state,\n                user: updatedUserFavSFx,\n            };\n\n        default:\n            return state;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}